## 의존관계 자동 주입

### 의존관계 주입 방법

- 생성자주입
- 수정자 주입 (setter)
- 필드 주입
- 일반 메서드 주입

### 생성자 주입의 특징

- 생성자 호출 시점에 한번만 호출되는 것을 보장
- 불변, 필수 의존관계에서 사용됨
- 개발시 적절한 제약을 해두는 것을 권장!
- 불변의 상황에서는 setter 를 지양하자
- 생성자에서는 왠만해서는 값을 다 채워줄것을 권장
- 생성자가 1개일 경우에는 @Autowired 를 생략할 수 있음


### 수정자 주입의 특징

- setter 를 통해 주입
- 각 setter 는 @Autowired 를 설정해야함.
- 선택, 변경 가능성 의존관계에서 사용됨
- @Autowired 의 기본 동작은 주입할 대상이 없으면 오류를 발생함.
 - 주입 대상이 없어도 동작하려면 @Autowired(required = false) 지정이 필요.

### 자바 빈 프로퍼티

- setter (setXxxxx) 와 getter(getXxxx) 로 프로퍼티에 접근하는 규약

### 필드 주입

- 필드에 직접 @Autowired 을 사용하여 주입
- 안티패턴으로 추천하지않음
- 외부에서 변경이 불가능하여 테스트가 어려움

### 일반 메서드 주입

- 한번에 여러 필드를 주입 받을 수 있음
- 사용할 일 거의 없음

### 참고사항

- 의존관계 자동주입은 스프링 컨테이너가 관리하는 스프링 빈이어야 동작함

### 옵션처리

- @Autowired(require = false) : 자동 주입할 대상이 없으면 메서드 자체가 호출 안됨
- @Nullable 을 선언시 자동주입 대상이 없으면 null 반환
- Optional<> 을 선언시 자동주입 대상이 없으면 Optional.empty 반환

### 참고사항

- @Nullable, Optional 은 스프링 전반에 걸쳐서 지원됨

### 생성자 주입 권장

- 프레임워크에 의존하지 않고 순수한 자바 언어의 특징을 살리는 방법
- final 키워드를 통해 컴파일 시점에 오류를 빠르게 캐치 가능

